You can't really parse <code>document.doctype</code> as an object,
but lucky the doctype format is well defined,
so we can blend together the parts & strings to render an accurate doctype.

<!--more-->

<pre>
<span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>function</span><span style='color:#808030; '>(</span>EMPTY_STRING<span style='color:#808030; '>,</span> SPACE<span style='color:#808030; '>,</span> doctype<span style='color:#808030; '>,</span> tmp<span style='color:#808030; '>)</span><span style='color:#800080; '>{</span> <span style='color:#800000; '>"</span><span style='color:#0000e6; '>use strict</span><span style='color:#800000; '>"</span><span style='color:#800080; '>;</span>
  <span style='color:#800000; font-weight:bold; '>function</span> is_empty<span style='color:#808030; '>(</span>value<span style='color:#808030; '>)</span><span style='color:#800080; '>{</span> <span style='color:#800000; font-weight:bold; '>return</span> <span style='color:#800000; '>"</span><span style='color:#0000e6; '>undefined</span><span style='color:#800000; '>"</span> <span style='color:#808030; '>===</span> <span style='color:#800000; font-weight:bold; '>typeof</span> value <span style='color:#808030; '>||</span> <span style='color:#0f4d75; '>null</span> <span style='color:#808030; '>===</span> value <span style='color:#808030; '>||</span> EMPTY_STRING <span style='color:#808030; '>===</span> value<span style='color:#800080; '>;</span> <span style='color:#800080; '>}</span>

  <span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span><span style='color:#0f4d75; '>true</span> <span style='color:#808030; '>===</span> is_empty<span style='color:#808030; '>(</span>doctype<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span> <span style='color:#800000; font-weight:bold; '>return</span> EMPTY_STRING<span style='color:#800080; '>;</span> <span style='color:#696969; '>/* non-existing DOCTYPE or an empty one */</span>
  <span style='color:#800000; font-weight:bold; '>return</span> <span style='color:#800000; '>"</span><span style='color:#0000e6; '>&lt;!DOCTYPE##NAME####PUBLIC####PUBLICID####SYSTEM####SYSTEMID####INTERNALSUBSET##></span><span style='color:#800000; '>"</span>
          <span style='color:#808030; '>.</span><span style='color:#800000; font-weight:bold; '>replace</span><span style='color:#808030; '>(</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>##NAME##</span><span style='color:#800000; '>"</span><span style='color:#808030; '>,</span>            <span style='color:#0f4d75; '>true</span> <span style='color:#808030; '>===</span> is_empty<span style='color:#808030; '>(</span>doctype<span style='color:#808030; '>.</span>name<span style='color:#808030; '>)</span>           <span style='color:#800080; '>?</span> EMPTY_STRING <span style='color:#800080; '>:</span> SPACE <span style='color:#808030; '>+</span> doctype<span style='color:#808030; '>.</span>name                  <span style='color:#808030; '>)</span>
          <span style='color:#808030; '>.</span><span style='color:#800000; font-weight:bold; '>replace</span><span style='color:#808030; '>(</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>##PUBLIC##</span><span style='color:#800000; '>"</span><span style='color:#808030; '>,</span>          <span style='color:#0f4d75; '>true</span> <span style='color:#808030; '>===</span> is_empty<span style='color:#808030; '>(</span>doctype<span style='color:#808030; '>.</span>publicId<span style='color:#808030; '>)</span>       <span style='color:#800080; '>?</span> EMPTY_STRING <span style='color:#800080; '>:</span> SPACE <span style='color:#808030; '>+</span> <span style='color:#800000; '>"</span><span style='color:#0000e6; '>PUBLIC</span><span style='color:#800000; '>"</span>                      <span style='color:#808030; '>)</span>
          <span style='color:#808030; '>.</span><span style='color:#800000; font-weight:bold; '>replace</span><span style='color:#808030; '>(</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>##PUBLICID##</span><span style='color:#800000; '>"</span><span style='color:#808030; '>,</span>        <span style='color:#0f4d75; '>true</span> <span style='color:#808030; '>===</span> is_empty<span style='color:#808030; '>(</span>doctype<span style='color:#808030; '>.</span>publicId<span style='color:#808030; '>)</span>       <span style='color:#800080; '>?</span> EMPTY_STRING <span style='color:#800080; '>:</span> SPACE <span style='color:#808030; '>+</span> <span style='color:#800000; '>'</span><span style='color:#0000e6; '>"</span><span style='color:#800000; '>'</span> <span style='color:#808030; '>+</span> doctype<span style='color:#808030; '>.</span>publicId <span style='color:#808030; '>+</span> <span style='color:#800000; '>'</span><span style='color:#0000e6; '>"</span><span style='color:#800000; '>'</span>  <span style='color:#808030; '>)</span>
          <span style='color:#808030; '>.</span><span style='color:#800000; font-weight:bold; '>replace</span><span style='color:#808030; '>(</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>##SYSTEM##</span><span style='color:#800000; '>"</span><span style='color:#808030; '>,</span>          <span style='color:#0f4d75; '>true</span> <span style='color:#808030; '>===</span> is_empty<span style='color:#808030; '>(</span>doctype<span style='color:#808030; '>.</span>systemId<span style='color:#808030; '>)</span>
                                          <span style='color:#808030; '>||</span> <span style='color:#0f4d75; '>false</span> <span style='color:#808030; '>===</span> is_empty<span style='color:#808030; '>(</span>doctype<span style='color:#808030; '>.</span>publicId<span style='color:#808030; '>)</span>   <span style='color:#800080; '>?</span> EMPTY_STRING <span style='color:#800080; '>:</span> SPACE <span style='color:#808030; '>+</span> <span style='color:#800000; '>"</span><span style='color:#0000e6; '>SYSTEM</span><span style='color:#800000; '>"</span>                      <span style='color:#808030; '>)</span>
          <span style='color:#808030; '>.</span><span style='color:#800000; font-weight:bold; '>replace</span><span style='color:#808030; '>(</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>##SYSTEMID##</span><span style='color:#800000; '>"</span><span style='color:#808030; '>,</span>        <span style='color:#0f4d75; '>true</span> <span style='color:#808030; '>===</span> is_empty<span style='color:#808030; '>(</span>doctype<span style='color:#808030; '>.</span>systemId<span style='color:#808030; '>)</span>       <span style='color:#800080; '>?</span> EMPTY_STRING <span style='color:#800080; '>:</span> SPACE <span style='color:#808030; '>+</span> <span style='color:#800000; '>'</span><span style='color:#0000e6; '>"</span><span style='color:#800000; '>'</span> <span style='color:#808030; '>+</span> doctype<span style='color:#808030; '>.</span>systemId <span style='color:#808030; '>+</span> <span style='color:#800000; '>'</span><span style='color:#0000e6; '>"</span><span style='color:#800000; '>'</span>  <span style='color:#808030; '>)</span>
          <span style='color:#808030; '>.</span><span style='color:#800000; font-weight:bold; '>replace</span><span style='color:#808030; '>(</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>##INTERNALSUBSET##</span><span style='color:#800000; '>"</span><span style='color:#808030; '>,</span>  <span style='color:#0f4d75; '>true</span> <span style='color:#808030; '>===</span> is_empty<span style='color:#808030; '>(</span>doctype<span style='color:#808030; '>.</span>internalSubset<span style='color:#808030; '>)</span> <span style='color:#800080; '>?</span> EMPTY_STRING <span style='color:#800080; '>:</span> SPACE <span style='color:#808030; '>+</span> <span style='color:#800000; '>'</span><span style='color:#0000e6; '>[</span><span style='color:#800000; '>'</span> <span style='color:#808030; '>+</span> doctype<span style='color:#808030; '>.</span>systemId <span style='color:#808030; '>+</span> <span style='color:#800000; '>'</span><span style='color:#0000e6; '>]</span><span style='color:#800000; '>'</span>  <span style='color:#808030; '>)</span>
        <span style='color:#800080; '>;</span>
<span style='color:#800080; '>}</span><span style='color:#808030; '>(</span>
 <span style='color:#800000; '>"</span><span style='color:#800000; '>"</span>
<span style='color:#808030; '>,</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '> </span><span style='color:#800000; '>"</span>
<span style='color:#808030; '>,</span>self<span style='color:#808030; '>.</span>document<span style='color:#808030; '>.</span>doctype
<span style='color:#808030; '>,</span><span style='color:#0f4d75; '>undefined</span>
<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
</pre>

some websites might have the top-root part of the document (the <code>doctype.name</code>) different, by letter-case,
for example <code>&lt;&excl;DOCTYPE&#32;HTML&period;&period;&period;</code> vs. the output of <code>&lt;&excl;DOCTYPE&#32;html&period;&period;&period;</code>,
the standard is lower-case (<code>html</code>), but regardless, <strong>this part</strong> is not case-sensitive so it does not matter.

...You can always run get the exact string by fetching the document..

<pre>
<span style='color:#800000; font-weight:bold; '>function</span> get_doctype_by_xhr<span style='color:#808030; '>(</span>callback<span style='color:#808030; '>)</span><span style='color:#800080; '>{</span>
  <span style='color:#800000; font-weight:bold; '>var</span> xhr <span style='color:#808030; '>=</span> <span style='color:#800000; font-weight:bold; '>new</span> XMLHttpRequest<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
  xhr<span style='color:#808030; '>.</span>onreadystatechange <span style='color:#808030; '>=</span> <span style='color:#800000; font-weight:bold; '>function</span><span style='color:#808030; '>(</span><span style='color:#808030; '>)</span><span style='color:#800080; '>{</span>
    <span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span>XMLHttpRequest<span style='color:#808030; '>.</span>DONE <span style='color:#808030; '>!==</span> xhr<span style='color:#808030; '>.</span>status<span style='color:#808030; '>)</span> <span style='color:#800000; font-weight:bold; '>return</span><span style='color:#800080; '>;</span>
    callback<span style='color:#808030; '>(</span>xhr<span style='color:#808030; '>.</span>response<span style='color:#808030; '>.</span><span style='color:#800000; font-weight:bold; '>match</span><span style='color:#808030; '>(</span><span style='color:#800000; '>/</span><span style='color:#808030; '>(</span><span style='color:#808030; '>^</span><span style='color:#808030; '>.</span><span style='color:#808030; '>*</span><span style='color:#808030; '>)</span><span style='color:#0f69ff; '>\\&lt;</span><span style='color:#0000e6; '>html</span><span style='color:#800000; '>/</span><span style='color:#800000; font-weight:bold; '>im</span><span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
  <span style='color:#800080; '>}</span><span style='color:#800080; '>;</span>
  xhr<span style='color:#808030; '>.</span>open<span style='color:#808030; '>(</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>GET</span><span style='color:#800000; '>"</span><span style='color:#808030; '>,</span> location<span style='color:#808030; '>.</span><span style='color:#800000; font-weight:bold; '>toString</span><span style='color:#808030; '>(</span><span style='color:#808030; '>)</span><span style='color:#808030; '>,</span> <span style='color:#0f4d75; '>true</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
  xhr<span style='color:#808030; '>.</span>overrideMimeType<span style='color:#808030; '>(</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>text/plain;charset=UTF-8</span><span style='color:#800000; '>"</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
  xhr<span style='color:#808030; '>.</span>responseType <span style='color:#808030; '>=</span> <span style='color:#800000; '>"</span><span style='color:#0000e6; '>text</span><span style='color:#800000; '>"</span><span style='color:#800080; '>;</span>
  xhr<span style='color:#808030; '>.</span>send<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span>
<span style='color:#800080; '>}</span>

get_doctype_by_xhr<span style='color:#808030; '>(</span><span style='color:#800000; font-weight:bold; '>function</span><span style='color:#808030; '>(</span>doctype_text<span style='color:#808030; '>)</span><span style='color:#800080; '>{</span>
  document<span style='color:#808030; '>.</span>title <span style='color:#808030; '>=</span> doctype_text<span style='color:#800080; '>;</span>
<span style='color:#800080; '>}</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
</pre>

..but really.. don't do that.. ;)
